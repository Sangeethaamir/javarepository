import { test, expect } from '@playwright/test';

test('Login to Amazon and count books', async ({ page }) => {

  // 1️⃣ Navigate to Amazon India
  await page.goto('https://www.amazon.in/');


  // 5️⃣ Search for Books
  page.getByPlaceholder('placeholder="Search Amazon.in').fill('books');

  await page.click('#nav-search-submit-button');
 

  // 6️⃣ Count number of books listed
  const books = page.locator('//div[@data-component-type="s-search-result"]');
  const count = await books.count();

  console.log(`Total books listed on first page: ${count}`);

  let allbooktile:string[]=await books.allTextContents();

  for(let a of allbooktile)
  {
console.log(a);
  }

  // Optional validation
  expect(count).toBeGreaterThan(0);

  await page.waitForTimeout(5000);
});



